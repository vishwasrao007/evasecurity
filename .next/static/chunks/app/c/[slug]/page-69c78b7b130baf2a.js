(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{398:(e,t,n)=>{"use strict";e.exports=n(8989).style},4866:(e,t,n)=>{Promise.resolve().then(n.bind(n,5822))},5822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var s=n(6384),i=n(398),r=n.n(i),o=n(6636);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],[s,i]=(0,o.useState)(0),r=n?e.split(""):e.split(" ");return(0,o.useEffect)(()=>{i(0)},[e]),(0,o.useEffect)(()=>{if(s>=r.length)return;let e=setInterval(()=>{i(e=>e+1)},t);return()=>{clearInterval(e)}},[s,r,t]),r.slice(0,s).join(n?"":" ")};function l(e){let{onStartListening:t,onStopListening:n,isAudioPlaying:i,currentText:l}=e,[c,u]=(0,o.useState)("idle"),d=a(l&&l.trim().length>0?l:"Hi Good Morning! How may I help you?",20);return a("Click the circle to start the conversation",20),(0,o.useEffect)(()=>{i?u("speaking"):"speaking"===c&&l?u("listening"):u("idle")},[i,l]),(0,o.useEffect)(()=>{if(l.toLowerCase().includes("have a wonderful day!")){let e=setTimeout(()=>{("speaking"===c||"listening"===c)&&(null==n||n(),u("idle"),setTimeout(()=>{null==n||n(),u("idle")},200))},1e3);return()=>clearTimeout(e)}},[l,n,c]),(0,o.useEffect)(()=>{let e=setTimeout(()=>{null==t||t(),u("listening")},1e3);return()=>clearTimeout(e)},[]),(0,s.jsxs)("div",{style:{minHeight:"100vh"},className:"jsx-302a444b4c98172c relative flex flex-col items-center justify-between shadow-xl h-[100vh] overflow-hidden",children:[(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100vh",width:"100vw",maxWidth:440,position:"relative",overflow:"hidden",borderRadius:"45px"},className:"jsx-302a444b4c98172c cont",children:[(0,s.jsx)("div",{style:{background:"radial-gradient(223.36% 111.8% at 50% 100%, #E8DDFF 0%, #71B6E4 40.5%, #687FDE 69.5%, #3A59D6 100%)",filter:"blur(12px)",zIndex:-1,borderRadius:"55px"},className:"jsx-302a444b4c98172c absolute top-0 left-0 w-full h-full"}),(0,s.jsx)("div",{style:{right:"1.225rem"},className:"jsx-302a444b4c98172c absolute top-5 z-10",children:(0,s.jsx)("img",{src:"/close.svg",alt:"Close",className:"jsx-302a444b4c98172c h-8"})}),(0,s.jsxs)("div",{className:"jsx-302a444b4c98172c flex flex-col items-center w-full pt-[3.2rem] z-10",children:["idle"===c&&(0,s.jsxs)("div",{className:"jsx-302a444b4c98172c flex flex-col items-center w-4/5 mx-auto text-center",children:[(0,s.jsx)("span",{className:"jsx-302a444b4c98172c text-white text-base font-medium",children:"Welcome to HDFC Bank!"}),(0,s.jsx)("span",{className:"jsx-302a444b4c98172c text-[52px] font-extrabold text-white leading-none",children:(0,s.jsx)("span",{className:"jsx-302a444b4c98172c text-[#AEE2FF]",children:"I'm EVA"})}),(0,s.jsx)("span",{className:"jsx-302a444b4c98172c text-white text-xl font-medium",children:"Your all new AI Assistant"})]}),(0,s.jsx)("div",{className:"jsx-302a444b4c98172c relative flex items-center justify-center mb-0 md:mb-[88px]",children:(0,s.jsx)("div",{onClick:()=>{"listening"===c||"speaking"===c?null==n||n():i||null==t||t()},style:{width:350,height:300},className:"jsx-302a444b4c98172c rounded-full p-2",children:(0,s.jsx)("img",{src:"/eva.gif",alt:"listening"===c?"AI is listening":"speaking"===c?"AI is speaking":"AI is idle",style:{width:600,height:400},className:"jsx-302a444b4c98172c rounded-full object-cover"})})}),(0,s.jsx)("div",{className:"jsx-302a444b4c98172c flex flex-col items-center w-4/5 mx-auto text-center",children:d.split(RegExp("(?<=[.?!])\\s+")).map((e,t)=>{let n=e.trim(),i=n.toLowerCase(),r=n.endsWith("?"),o=i.includes("please enter")||i.includes("kindly provide"),a=i.startsWith("please tell me"),l=i.startsWith("please say your"),c=i.startsWith("please confirm"),u="have a wonderful day!"===i;return r||o||a||l||c||u?(0,s.jsx)("span",{className:"jsx-302a444b4c98172c block text-2xl font-bold text-white",children:n},t):(0,s.jsx)("span",{className:"jsx-302a444b4c98172c block text-base font-normal text-white",children:n},t)})})]}),(0,s.jsx)("div",{className:"jsx-302a444b4c98172c w-full px-2 pb-2 pt-2",children:(0,s.jsxs)("div",{style:{borderRadius:"43px"},className:"jsx-302a444b4c98172c bg-white flex flex-col items-center justify-center w-full min-h-[180px] h-[180px] p-2",children:[(0,s.jsx)("div",{className:"jsx-302a444b4c98172c flex items-center gap-2 mb-1",children:"listening"===c&&(0,s.jsx)("span",{className:"jsx-302a444b4c98172c text-[#5B7FFF] font-semibold text-lg",children:"Listening..."})}),(0,s.jsxs)("div",{className:"jsx-302a444b4c98172c flex flex-col justify-center mt-auto w-full",children:[(0,s.jsx)("div",{className:"jsx-302a444b4c98172c flex-1 flex justify-center",children:(0,s.jsx)("img",{src:"listening"===c?"/blob-listening.gif":"speaking"===c?"/blob-answering.gif":"/blob-static.gif",alt:"Start",width:100,height:100,onClick:()=>{i||(null==t||t(),u("listening"))},className:"jsx-302a444b4c98172c "+"cursor-pointer ".concat("listening"===c||"speaking"===c?"pointer-events-none":"")})}),(0,s.jsx)("div",{className:"jsx-302a444b4c98172c flex-1 flex justify-end pr-[6px] pb-[6px]",children:(0,s.jsx)("img",{src:"/end-call.svg",alt:"End",width:30,height:30,onClick:()=>{("listening"===c||"speaking"===c)&&(null==n||n(),u("idle"))},className:"jsx-302a444b4c98172c "+"cursor-pointer ".concat("idle"===c?"opacity-50 pointer-events-none":"")})})]})]})})]}),(0,s.jsx)(r(),{id:"302a444b4c98172c",children:'.cont.jsx-302a444b4c98172c{width:100vw;max-width:440px}@media(min-width:768px){.cont.jsx-302a444b4c98172c{width:440px}video[src="/eva-bg.mp4"].jsx-302a444b4c98172c{-webkit-border-radius:55px;-moz-border-radius:55px;border-radius:55px}}'})]})}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(null,arguments)}let u=new Blob(['\n      const TARGET_SAMPLE_RATE = 16000;\n      class RawAudioProcessor extends AudioWorkletProcessor {\n        constructor() {\n          super();\n          this.buffer = []; // Initialize an empty buffer\n          this.bufferSize = TARGET_SAMPLE_RATE / 4; // Define the threshold for buffer size to be ~0.25s\n\n          if (globalThis.LibSampleRate && sampleRate !== TARGET_SAMPLE_RATE) {\n            globalThis.LibSampleRate.create(1, sampleRate, TARGET_SAMPLE_RATE).then(resampler => {\n              this.resampler = resampler;\n            });\n          }\n        }\n        process(inputs, outputs) {\n          const input = inputs[0]; // Get the first input node\n          if (input.length > 0) {\n            let channelData = input[0]; // Get the first channel\'s data\n\n            // Resample the audio if necessary\n            if (this.resampler) {\n              channelData = this.resampler.full(channelData);\n            }\n\n            // Add channel data to the buffer\n            this.buffer.push(...channelData);\n            // Get max volume \n            let sum = 0.0;\n            for (let i = 0; i < channelData.length; i++) {\n              sum += channelData[i] * channelData[i];\n            }\n            const maxVolume = Math.sqrt(sum / channelData.length);\n            // Check if buffer size has reached or exceeded the threshold\n            if (this.buffer.length >= this.bufferSize) {\n              const float32Array = new Float32Array(this.buffer)\n              let pcm16Array = new Int16Array(float32Array.length);\n\n              // Iterate through the Float32Array and convert each sample to PCM16\n              for (let i = 0; i < float32Array.length; i++) {\n                // Clamp the value to the range [-1, 1]\n                let sample = Math.max(-1, Math.min(1, float32Array[i]));\n            \n                // Scale the sample to the range [-32768, 32767] and store it in the Int16Array\n                pcm16Array[i] = sample < 0 ? sample * 32768 : sample * 32767;\n              }\n            \n              // Send the buffered data to the main script\n              this.port.postMessage([pcm16Array, maxVolume]);\n            \n              // Clear the buffer after sending\n              this.buffer = [];\n            }\n          }\n          return true; // Continue processing\n        }\n      }\n      registerProcessor("raw-audio-processor", RawAudioProcessor);\n  '],{type:"application/javascript"}),d=URL.createObjectURL(u);class h{static async create(e){let t=null,n=null;try{let s=navigator.mediaDevices.getSupportedConstraints().sampleRate,i=(t=new window.AudioContext(s?{sampleRate:e}:{})).createAnalyser();s||await t.audioWorklet.addModule("https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js"),await t.audioWorklet.addModule(d),n=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:{ideal:e},echoCancellation:{ideal:!0},noiseSuppression:{ideal:!0}}});let r=t.createMediaStreamSource(n),o=new AudioWorkletNode(t,"raw-audio-processor");return r.connect(i),i.connect(o),new h(t,i,o,n)}catch(e){var s,i;throw null==(s=n)||s.getTracks().forEach(e=>e.stop()),null==(i=t)||i.close(),e}}constructor(e,t,n,s){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.context=e,this.analyser=t,this.worklet=n,this.inputStream=s}async close(){this.inputStream.getTracks().forEach(e=>e.stop()),await this.context.close()}}let p=new Blob(['\n      class AudioConcatProcessor extends AudioWorkletProcessor {\n        constructor() {\n          super();\n          this.buffers = []; // Initialize an empty buffer\n          this.cursor = 0;\n          this.currentBuffer = null;\n          this.wasInterrupted = false;\n          this.finished = false;\n\n          this.port.onmessage = ({ data }) => {\n            switch (data.type) {\n              case "buffer":\n                this.wasInterrupted = false;\n                this.buffers.push(new Int16Array(data.buffer));\n                break;\n              case "interrupt":\n                this.wasInterrupted = true;\n                break;\n              case "clearInterrupted":\n                if (this.wasInterrupted) {\n                  this.wasInterrupted = false;\n                  this.buffers = [];\n                  this.currentBuffer = null;\n                }\n            }\n          };\n        }\n        process(_, outputs) {\n          let finished = false;\n          const output = outputs[0][0];\n          for (let i = 0; i < output.length; i++) {\n            if (!this.currentBuffer) {\n              if (this.buffers.length === 0) {\n                finished = true;\n                break;\n              }\n              this.currentBuffer = this.buffers.shift();\n              this.cursor = 0;\n            }\n\n            output[i] = this.currentBuffer[this.cursor] / 32768;\n            this.cursor++;\n\n            if (this.cursor >= this.currentBuffer.length) {\n              this.currentBuffer = null;\n            }\n          }\n\n          if (this.finished !== finished) {\n            this.finished = finished;\n            this.port.postMessage({ type: "process", finished });\n          }\n\n          return true; // Continue processing\n        }\n      }\n\n      registerProcessor("audio-concat-processor", AudioConcatProcessor);\n    '],{type:"application/javascript"}),f=URL.createObjectURL(p);class m{static async create(e){let t=null;try{let n=(t=new AudioContext({sampleRate:e})).createAnalyser(),s=t.createGain();s.connect(n),n.connect(t.destination),await t.audioWorklet.addModule(f);let i=new AudioWorkletNode(t,"audio-concat-processor");return i.connect(s),new m(t,n,s,i)}catch(e){var n;throw null==(n=t)||n.close(),e}}constructor(e,t,n,s){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.context=e,this.analyser=t,this.gain=n,this.worklet=s}async close(){await this.context.close()}}class g{static async create(e){var t,n;let s=null;try{let n=null!=(t=e.origin)?t:"wss://api.elevenlabs.io",i=e.signedUrl?e.signedUrl:n+"/v1/convai/conversation?agent_id="+e.agentId,r=["convai"];e.authorization&&r.push(`bearer.${e.authorization}`),s=new WebSocket(i,r);let o=await new Promise((t,n)=>{s.addEventListener("open",()=>{var t,n,i,r,o;let a={type:"conversation_initiation_client_data"};e.overrides&&(a.conversation_config_override={agent:{prompt:null==(n=e.overrides.agent)?void 0:n.prompt,first_message:null==(i=e.overrides.agent)?void 0:i.firstMessage,language:null==(r=e.overrides.agent)?void 0:r.language},tts:{voice_id:null==(o=e.overrides.tts)?void 0:o.voiceId}}),e.customLlmExtraBody&&(a.custom_llm_extra_body=e.customLlmExtraBody),null==(t=s)||t.send(JSON.stringify(a))},{once:!0}),s.addEventListener("error",n),s.addEventListener("close",n),s.addEventListener("message",e=>{let n=JSON.parse(e.data);n.type&&("conversation_initiation_metadata"===n.type?t(n.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),a=o.conversation_id,l=parseInt(o.agent_output_audio_format.replace("pcm_",""));return new g(s,a,l)}catch(e){throw null==(n=s)||n.close(),e}}constructor(e,t,n){this.socket=void 0,this.conversationId=void 0,this.sampleRate=void 0,this.socket=e,this.conversationId=t,this.sampleRate=n}close(){this.socket.close()}sendMessage(e){this.socket.send(JSON.stringify(e))}}let v={clientTools:{}},_={onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onModeChange:()=>{},onStatusChange:()=>{}};class y{static async startSession(e){let t=c({},v,_,e);t.onStatusChange({status:"connecting"});let n=null,s=null,i=null;try{return n=await h.create(16e3),s=await g.create(e),i=await m.create(s.sampleRate),new y(t,s,n,i)}catch(e){var r,o,a;throw t.onStatusChange({status:"disconnected"}),null==(r=s)||r.close(),await (null==(o=n)?void 0:o.close()),await (null==(a=i)?void 0:a.close()),e}}constructor(e,t,n,s){var i=this;this.options=void 0,this.connection=void 0,this.input=void 0,this.output=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.volume=1,this.endSession=async function(){"connected"===i.status&&(i.updateStatus("disconnecting"),i.connection.close(),await i.input.close(),await i.output.close(),i.updateStatus("disconnected"))},this.updateMode=e=>{e!==this.mode&&(this.mode=e,this.options.onModeChange({mode:e}))},this.updateStatus=e=>{e!==this.status&&(this.status=e,this.options.onStatusChange({status:e}))},this.onEvent=async function(e){try{let n=JSON.parse(e.data);if(!n.type)return;switch(n.type){case"interruption":n.interruption_event&&(i.lastInterruptTimestamp=n.interruption_event.event_id),i.fadeOutAudio();break;case"agent_response":i.options.onMessage({source:"ai",message:n.agent_response_event.agent_response});break;case"user_transcript":i.options.onMessage({source:"user",message:n.user_transcription_event.user_transcript});break;case"internal_tentative_agent_response":i.options.onDebug({type:"tentative_agent_response",response:n.tentative_agent_response_internal_event.tentative_agent_response});break;case"client_tool_call":if(i.options.clientTools.hasOwnProperty(n.client_tool_call.tool_name)){try{var t;let e=null!=(t=await i.options.clientTools[n.client_tool_call.tool_name](n.client_tool_call.parameters))?t:"Client tool execution successful.";i.connection.sendMessage({type:"client_tool_result",tool_call_id:n.client_tool_call.tool_call_id,result:e,is_error:!1})}catch(e){i.onError("Client tool execution failed with following error: "+(null==e?void 0:e.message),{clientToolName:n.client_tool_call.tool_name}),i.connection.sendMessage({type:"client_tool_result",tool_call_id:n.client_tool_call.tool_call_id,result:"Client tool execution failed: "+(null==e?void 0:e.message),is_error:!0})}break}if(i.options.onUnhandledClientToolCall){i.options.onUnhandledClientToolCall(n.client_tool_call);break}i.onError(`Client tool with name ${n.client_tool_call.tool_name} is not defined on client`,{clientToolName:n.client_tool_call.tool_name}),i.connection.sendMessage({type:"client_tool_result",tool_call_id:n.client_tool_call.tool_call_id,result:`Client tool with name ${n.client_tool_call.tool_name} is not defined on client`,is_error:!0});break;case"audio":i.lastInterruptTimestamp<=n.audio_event.event_id&&(i.addAudioBase64Chunk(n.audio_event.audio_base_64),i.updateMode("speaking"));break;case"ping":i.connection.sendMessage({type:"pong",event_id:n.ping_event.event_id});break;default:i.options.onDebug(n)}}catch(t){return void i.onError("Failed to parse event data",{event:e})}},this.onInputWorkletMessage=e=>{"connected"===this.status&&this.connection.sendMessage({user_audio_chunk:function(e){let t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}(e.data[0].buffer)})},this.onOutputWorkletMessage=({data:e})=>{"process"===e.type&&this.updateMode(e.finished?"listening":"speaking")},this.addAudioBase64Chunk=async function(e){i.output.gain.gain.value=i.volume,i.output.worklet.port.postMessage({type:"clearInterrupted"}),i.output.worklet.port.postMessage({type:"buffer",buffer:function(e){let t=window.atob(e),n=t.length,s=new Uint8Array(n);for(let e=0;e<n;e++)s[e]=t.charCodeAt(e);return s.buffer}(e)})},this.fadeOutAudio=async function(){i.updateMode("listening"),i.output.worklet.port.postMessage({type:"interrupt"}),i.output.gain.gain.exponentialRampToValueAtTime(1e-4,i.output.context.currentTime+2),setTimeout(()=>{i.output.gain.gain.value=i.volume,i.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.onError=(e,t)=>{console.error(e,t),this.options.onError(e,t)},this.calculateVolume=e=>{if(0===e.length)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n]/255;return(t/=e.length)<0?0:t>1?1:t},this.getId=()=>this.connection.conversationId,this.setVolume=({volume:e})=>{this.volume=e},this.getInputByteFrequencyData=()=>(null!=this.inputFrequencyData||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData),this.getOutputByteFrequencyData=()=>(null!=this.outputFrequencyData||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData),this.getInputVolume=()=>this.calculateVolume(this.getInputByteFrequencyData()),this.getOutputVolume=()=>this.calculateVolume(this.getOutputByteFrequencyData()),this.options=e,this.connection=t,this.input=n,this.output=s,this.options.onConnect({conversationId:t.conversationId}),this.connection.socket.addEventListener("message",e=>{this.onEvent(e)}),this.connection.socket.addEventListener("error",e=>{this.updateStatus("disconnected"),this.onError("Socket error",e)}),this.connection.socket.addEventListener("close",()=>{this.updateStatus("disconnected"),this.options.onDisconnect()}),this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,this.updateStatus("connected")}}function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(null,arguments)}var x=n(3066),w=n(4401);function S(){let{slug:e}=(0,x.useParams)(),[t,n]=(0,o.useState)(""),[i,r]=(0,o.useState)([]),[a,c]=(0,o.useState)(!1),u=()=>{fetch("/api/c?id=".concat(e)).then(e=>e.json()).then(e=>{e.length>0&&r(e.map(e=>({...e,formatted:{text:e.content_transcript,transcript:e.content_transcript}})))})},d=function(e){let t=(0,o.useRef)(null),n=(0,o.useRef)(null),[s,i]=(0,o.useState)("disconnected"),[r,a]=(0,o.useState)("listening");return(0,o.useEffect)(()=>()=>{var e;null==(e=t.current)||e.endSession()},[]),{startSession:async s=>{if(t.current)return t.current.getId();if(n.current)return(await n.current).getId();try{return n.current=y.startSession(b({},null!=e?e:{},null!=s?s:{},{onModeChange:({mode:e})=>{a(e)},onStatusChange:({status:e})=>{i(e)}})),t.current=await n.current,t.current.getId()}finally{n.current=null}},endSession:async()=>{let e=t.current;t.current=null,await (null==e?void 0:e.endSession())},setVolume:({volume:e})=>{var n;null==(n=t.current)||n.setVolume({volume:e})},getInputByteFrequencyData:()=>{var e;return null==(e=t.current)?void 0:e.getInputByteFrequencyData()},getOutputByteFrequencyData:()=>{var e;return null==(e=t.current)?void 0:e.getOutputByteFrequencyData()},getInputVolume:()=>{var e,n;return null!=(e=null==(n=t.current)?void 0:n.getInputVolume())?e:0},getOutputVolume:()=>{var e,n;return null!=(e=null==(n=t.current)?void 0:n.getOutputVolume())?e:0},status:s,isSpeaking:"speaking"===r}}({onError:e=>{(0,w.o)(e)},onConnect:()=>{(0,w.o)("Connected to ElevenLabs.")},onMessage:t=>{let{message:s,source:i}=t;"ai"===i&&n(s),fetch("/api/c",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,item:{type:"message",status:"completed",object:"realtime.item",id:"item_"+Math.random(),role:"ai"===i?"assistant":"user",content:[{type:"text",transcript:s}]}})}).then(u)}}),h=(0,o.useCallback)(async()=>{(0,w.o)("Setting up ElevenLabs...");try{await navigator.mediaDevices.getUserMedia({audio:!0});let e=await fetch("/api/i",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();if(t.error)return(0,w.o)(t.error);await d.startSession({signedUrl:t.apiKey})}catch(e){(0,w.o)("Failed to set up ElevenLabs client :/")}},[d]),p=(0,o.useCallback)(async()=>{await d.endSession()},[d]);return(0,o.useEffect)(()=>()=>{p()},[e]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l,{currentText:t,isAudioPlaying:d.isSpeaking,onStopListening:()=>{"connected"===d.status&&p(),n("")},onStartListening:()=>{"connected"!==d.status&&h()}})})}},8554:()=>{},8989:(e,t,n)=>{"use strict";var s=n(7946);n(8554);var i=n(6636),r=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(i),o=void 0!==s&&s.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,n=t.name,s=void 0===n?"stylesheet":n,i=t.optimizeForSpeed,r=void 0===i?o:i;c(a(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",c("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(c(a(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var n="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(s){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];c(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},n.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},n.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&c(a(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(s,n):i.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},d={};function h(e,t){if(!t)return"jsx-"+e;var n=String(t),s=e+n;return d[s]||(d[s]="jsx-"+u(e+"-"+n)),d[s]}function p(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;return d[n]||(d[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[n]}var f=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,s=void 0===n?null:n,i=t.optimizeForSpeed,r=void 0!==i&&i;this._sheet=s||new l({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),s&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),s=n.styleId,i=n.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var r=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=r,this._instancesCounts[s]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var s=this._fromServer&&this._fromServer[n];s?(s.parentNode.removeChild(s),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],s=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,s=e.id;if(n){var i=h(s,n);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return p(i,e)}):[p(i,t)]}}return{styleId:h(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=i.createContext(null);m.displayName="StyleSheetContext";var g=r.default.useInsertionEffect||r.default.useLayoutEffect,v="undefined"!=typeof window?new f:void 0;function _(e){var t=v||i.useContext(m);return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}_.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},t.style=_}},e=>{var t=t=>e(e.s=t);e.O(0,[401,309,951,358],()=>t(4866)),_N_E=e.O()}]);